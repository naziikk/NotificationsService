# Notification Service

Notification Service — это сервер для управления и отправки уведомлений по электронной почте. Сервис позволяет добавлять, обновлять и удалять уведомления с возможностью их планирования на определенное время.

## Особенности

- **REST API** для управления уведомлениями.
- **Планирование уведомлений** с точностью до секунд.
- **Поддержка многопоточности** для обработки уведомлений в фоновом режиме.
- **Поддержка различных статусов уведомлений** (очередь, обновление, удаление).
- **Интеграция с Yandex API** для отправки email.

## Установка

### Требования

- **C++17** или выше
- **CMake** 3.10 или выше
- **libcurl** для работы с API
- **nlohmann/json** для работы с JSON
- **httplib** для реализации HTTP-сервера

### Сборка проекта

1. Склонируйте репозиторий:
    ```bash
    git clone https://github.com/naziikk/Notification-Service.git
    cd Notification-Service
    ```

2. Соберите проект с помощью CMake:
    ```bash
    mkdir build
    cd build
    cmake ..
    make
    ```

## Настройка

Перед началом работы убедитесь, что у вас есть файл конфигурации `config.ini`, содержащий учетные данные для отправки электронной почты через Yandex API. Пример файла:

```ini
[DEFAULT]
USERNAME=your_email@yandex.ru
APP_PASSWORD=your_application_password
```
Разместите файл config.ini в корне проекта или измените путь в коде.
## Использование

### Запуск сервера

После сборки и настройки выполните команду для запуска сервера:

```bash
./Notification_Service
```
По умолчанию сервер будет слушать на порту 8080.
### Создание уведомления

Метод: **POST**

Эндпоинт: `/notifications`

Отправляет запрос на создание нового уведомления с определенным временем отправки.

#### Тело запроса:

```json
{
  "type": "string",            // Тема уведомления.
  "recipient": "string",       // Email получателя уведомления.
  "message": "string",         // Текст уведомления.
  "scheduled_time": "string"   // Дата и время отправки в формате ISO 8601 ("YYYY-MM-DDTHH:MM:SS").
}
```
#### Пример запроса

Запрос на создание уведомления:

```bash
curl -X POST http://localhost:8080/notifications \
  -H "Content-Type: application/json" \
  -d '{
    "type": "Reminder",
    "recipient": "recipient@example.com",
    "message": "Don'\''t forget our meeting at 3 PM!",
    "scheduled_time": "2024-09-10T15:00:00"
  }'
```
#### Ответ

Код состояния: 200 OK

```
{
  "status": "queued",
  "id": "12345",
  "scheduled_time": "2024-09-10T15:00:00"
}
```
### Описание полей ответа:

*	**status:** Статус запроса, в данном случае “queued” (уведомление поставлено в очередь на отправку).
*   **id:** Уникальный идентификатор созданного уведомления.
*   **scheduled_time:** Время, когда уведомление запланировано для отправки.